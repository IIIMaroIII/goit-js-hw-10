{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["import showNotification from '../scripts/showNotification_iziToast';\nimport iconError from '../img/error.svg';\nimport iconSuccess from '../img/ok.svg';\n\nconst refs = {\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const delayMs = evt.currentTarget.elements.delay.value;\n  const state = evt.currentTarget.elements.state.value;\n  createPromise(delayMs, state)\n    .then(res => {\n      onFullFilledNotification(res, delayMs);\n    })\n    .catch(res => {\n      onRejectedNotification(res, delayMs);\n    });\n}\n\nfunction onFullFilledNotification(message, delay) {\n  setTimeout(() => {\n    showNotification('', message, 'green', iconSuccess);\n  }, delay);\n}\nfunction onRejectedNotification(message, delay) {\n  setTimeout(() => {\n    showNotification('', message, 'red', iconError);\n  }, delay);\n}\nfunction createPromise(delay = 0, status = '') {\n  return new Promise((resolve, reject) => {\n    if (status === 'fulfilled') {\n      resolve(`Fulfilled promise in ${delay}ms`);\n    } else {\n      reject(`Rejected promise in ${delay}ms`);\n    }\n  });\n}\n\n// 1) Создаем функцию createPromise которая принимает delay, status\n// 2) При сабмите получаем данные с new FormData.\n// 3) записываем в переменную результат выполнения функции createPromise в\n// которую передаем аргументами delay и статус.\n// 4) на переменной с возвращенным Promise вызываем методы then() и catch()\n// для обработки функций onFullfilled и onRejected.\n// 5) прописываем функции onFullfilled и onRejected на уведомления.\n"],"names":["refs","onFormSubmit","evt","delayMs","state","createPromise","res","onFullFilledNotification","onRejectedNotification","message","delay","showNotification","iconSuccess","iconError","status","resolve","reject"],"mappings":"qHAIA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,CACtC,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAClB,MAAMC,EAAUD,EAAI,cAAc,SAAS,MAAM,MAC3CE,EAAQF,EAAI,cAAc,SAAS,MAAM,MAC/CG,EAAcF,EAASC,CAAK,EACzB,KAAKE,GAAO,CACXC,EAAyBD,EAAKH,CAAO,CAC3C,CAAK,EACA,MAAMG,GAAO,CACZE,EAAuBF,EAAKH,CAAO,CACzC,CAAK,CACL,CAEA,SAASI,EAAyBE,EAASC,EAAO,CAChD,WAAW,IAAM,CACfC,EAAiB,GAAIF,EAAS,QAASG,CAAW,CACnD,EAAEF,CAAK,CACV,CACA,SAASF,EAAuBC,EAASC,EAAO,CAC9C,WAAW,IAAM,CACfC,EAAiB,GAAIF,EAAS,MAAOI,CAAS,CAC/C,EAAEH,CAAK,CACV,CACA,SAASL,EAAcK,EAAQ,EAAGI,EAAS,GAAI,CAC7C,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CAClCF,IAAW,YACbC,EAAQ,wBAAwBL,CAAK,IAAI,EAEzCM,EAAO,uBAAuBN,CAAK,IAAI,CAE7C,CAAG,CACH"}